<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Graph building Parameters Importance — get_nn_importance • ClustAssess</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Graph building Parameters Importance — get_nn_importance"><meta property="og:description" content="Creates an object that contain stability measurements and assessments
when changing the values of different parameters involved in the Graph Building step,
namely the base embedding, the graph type and the number of neighbours."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ClustAssess</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/ClustAssess.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/comparing-soft-and-hierarchical.html">Comparing soft and hierarchical clusterings with element-centric similarity</a>
    </li>
    <li>
      <a href="../articles/stability-based-parameter-assessment.html">Stability-based parameter assessment</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Core-Bioinformatics/ClustAssess/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Graph building Parameters Importance</h1>
    <small class="dont-index">Source: <a href="https://github.com/Core-Bioinformatics/ClustAssess/blob/HEAD/R/stability-based-parameter-assessment.R" class="external-link"><code>R/stability-based-parameter-assessment.R</code></a></small>
    <div class="hidden name"><code>get_nn_importance.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creates an object that contain stability measurements and assessments
when changing the values of different parameters involved in the Graph Building step,
namely the base embedding, the graph type and the number of neighbours.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">get_nn_importance</span><span class="op">(</span>
  <span class="va">object</span>,
  <span class="va">n_neigh_sequence</span>,
  n_repetitions <span class="op">=</span> <span class="fl">30</span>,
  seed_sequence <span class="op">=</span> <span class="cn">NULL</span>,
  graph_reduction_type <span class="op">=</span> <span class="st">"PCA"</span>,
  ecs_thresh <span class="op">=</span> <span class="fl">1</span>,
  ncores <span class="op">=</span> <span class="fl">1</span>,
  transpose <span class="op">=</span> <span class="op">(</span><span class="va">graph_reduction_type</span> <span class="op">==</span> <span class="st">"PCA"</span><span class="op">)</span>,
  graph_type <span class="op">=</span> <span class="fl">2</span>,
  algorithm <span class="op">=</span> <span class="fl">4</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>A matrix object. If the graph reduction type is PCA, the object
should be an expression matrix, with features on rows and observations on columns;
in the case of UMAP, the user could also provide a matrix associated to a PCA embedding.</p></dd>
<dt>n_neigh_sequence</dt>
<dd><p>A sequence of the number of nearest neighbours.</p></dd>
<dt>n_repetitions</dt>
<dd><p>The number of repetitions of applying the pipeline with
different seeds; ignored if seed_sequence is provided by the user.</p></dd>
<dt>seed_sequence</dt>
<dd><p>A custom seed sequence; if the value is NULL,
the sequence will be built starting from 1 with a step of 100.</p></dd>
<dt>graph_reduction_type</dt>
<dd><p>The graph reduction type, denoting if the graph
should be built on either the PCA or the UMAP embedding.</p></dd>
<dt>ecs_thresh</dt>
<dd><p>The ECS threshold used for merging similar clusterings.</p></dd>
<dt>ncores</dt>
<dd><p>The number of parallel R instances that will run the code.
If the value is set to 1, the code will be run sequentially.</p></dd>
<dt>transpose</dt>
<dd><p>Decides whether the input object will be transposed or not.</p></dd>
<dt>graph_type</dt>
<dd><p>Argument indicating whether the graph should be
unweighted (0), weighted (1) or both (2).</p></dd>
<dt>algorithm</dt>
<dd><p>An index indicating which community detection algorithm will
be used: Louvain (1), Louvain refined (2), SLM (3) or Leiden (4). More details
can be found in the Seurat's <code>FindClusters</code> function.</p></dd>
<dt>...</dt>
<dd><p>Additional arguments passed to the <code><a href="https://rdrr.io/pkg/irlba/man/irlba.html" class="external-link">irlba::irlba</a></code> or the <code><a href="https://rdrr.io/pkg/uwot/man/umap.html" class="external-link">uwot::umap</a></code>
method, depending on the value of graph_reduction_type.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list having three fields:</p><ul><li><p>n_neigh_k_corresp - list containing the number of the clusters obtained by running
the pipeline multiple times with different seed, number of neighbors and graph type (weighted vs unweigted)</p></li>
<li><p>n_neigh_ec_consistency - list containing the EC consistency of the partitions obtained
at multiple runs when changing the number of neighbors or the graph type</p></li>
<li><p>n_different_partitions - the number of different partitions obtained by each
number of neighbors</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="co">#' # get the PCA embedding of the data</span>
<span class="va">pca_embedding</span> <span class="op">=</span> <span class="fu">irlba</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/irlba/man/irlba.html" class="external-link">irlba</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>, nv <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="va">pca_embedding</span> <span class="op">=</span> <span class="va">pca_embedding</span><span class="op">$</span><span class="va">u</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="va">pca_embedding</span><span class="op">$</span><span class="va">d</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">pca_embedding</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>

<span class="va">nn_importance_obj</span> <span class="op">=</span> <span class="fu">get_nn_importance</span><span class="op">(</span>object <span class="op">=</span> <span class="va">pca_embedding</span>,
    n_neigh_sequence <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">15</span><span class="op">)</span>,
    n_repetitions <span class="op">=</span> <span class="fl">1</span>,
    graph_reduction_type <span class="op">=</span> <span class="st">"UMAP"</span>,
    algorithm <span class="op">=</span> <span class="fl">1</span>,
    <span class="co"># the following parameters are used by the umap function and are not mandatory</span>
    min_dist <span class="op">=</span> <span class="fl">0.3</span>,
    n_neighbors <span class="op">=</span> <span class="fl">5</span>,
    metric <span class="op">=</span> <span class="st">"cosine"</span>,
    approx_pow <span class="op">=</span> <span class="cn">TRUE</span>,
    n_epochs <span class="op">=</span> <span class="fl">0</span>,
    init <span class="op">=</span> <span class="st">"random"</span><span class="op">)</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Arash Shahsavari, Irina Mohorianu.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

